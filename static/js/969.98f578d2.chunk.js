"use strict";(self.webpackChunkquiz_app=self.webpackChunkquiz_app||[]).push([[969],{969:(e,l,s)=>{s.r(l),s.d(l,{default:()=>b});var r=s(6907),t=(s(1830),s(2791)),a=s(4420),n=s(9164),i=s(890),d=s(184);var o=s(3862),u=s(2557);const c=e=>{let{users:l}=e,s={},r=null===l||void 0===l?void 0:l.map((e=>null===e||void 0===e?void 0:e.result));return null===r||void 0===r||r.forEach((e=>{let l=(r=null===e||void 0===e?void 0:e.correctAnswers,t=null===e||void 0===e?void 0:e.totalQuestions,+(100*r/t).toFixed(0));var r,t;if(s[e.levelName]){let r=s[e.levelName].find((e=>(null===e||void 0===e?void 0:e.grade)==l));r?r.numberOfUsers++:s[e.levelName].push({grade:l,numberOfUsers:1})}else s[e.levelName]=[{grade:l,numberOfUsers:1}]})),Object.entries(s).map((e=>({id:e[0],label:e[0],value:e[1].reduce(((e,l)=>e+l.numberOfUsers),0)})))};function v(e){let{label:l,data:s,className:r}=e;const{users:n,isLoading:i}=(0,a.v9)((e=>e.user));let v=c({users:n});const[m,f]=(0,t.useState)({}),[x,b]=(0,t.useState)({});return(0,t.useEffect)((()=>{const e=getComputedStyle(document.documentElement),l={labels:v.map((e=>null===e||void 0===e?void 0:e.label)),datasets:[{data:v.map((e=>null===e||void 0===e?void 0:e.value)),backgroundColor:[e.getPropertyValue("--blue-500"),e.getPropertyValue("--yellow-500"),e.getPropertyValue("--green-500")],hoverBackgroundColor:[e.getPropertyValue("--blue-400"),e.getPropertyValue("--yellow-400"),e.getPropertyValue("--green-400")]}]};f(l),b({plugins:{legend:{labels:{usePointStyle:!0}}}})}),[n]),i?(0,d.jsx)("div",{className:"flex  w-full justify-center items-center m-auto",children:(0,d.jsx)(u.G,{})}):(0,d.jsx)("div",{className:"card flex justify-content-center mt-16",children:(0,d.jsx)(o.k,{type:"pie",data:m,options:x,className:"w-full md:w-30rem"})})}var m=s(6013);const f=function(){var e;const{users:l,isLoading:s}=(0,a.v9)((e=>e.user));let r=(e=>{let{users:l}=e,s={},r=null===l||void 0===l?void 0:l.map((e=>null===e||void 0===e?void 0:e.result));return null===r||void 0===r||r.forEach((e=>{let l=+(100*(null===e||void 0===e?void 0:e.correctAnswers)/(null===e||void 0===e?void 0:e.totalQuestions)).toFixed(0);if(s[e.levelName]){let r=s[e.levelName].find((e=>(null===e||void 0===e?void 0:e.grade)==l));r?r.numberOfUsers++:s[e.levelName].push({grade:l,numberOfUsers:1})}else s[e.levelName]=[{grade:l,numberOfUsers:1}]})),s})({users:l});return console.log("results scatter =>",r),s?(0,d.jsx)("div",{className:"flex  w-full justify-center items-center m-auto",children:(0,d.jsx)(u.G,{})}):(0,d.jsx)("div",{children:Object.keys(r).length&&(null===(e=Object.values(r))||void 0===e?void 0:e.map(((e,l)=>(0,d.jsx)("div",{children:(0,d.jsx)(m.G,{width:450,height:300,series:[{label:Object.keys(r)[l],data:e.map((e=>({x:null===e||void 0===e?void 0:e.numberOfUsers,y:null===e||void 0===e?void 0:e.grade,id:"".concat(l,"A")})))}]})},l))))})};function x(){(0,a.I0)();return(0,d.jsxs)(n.Z,{maxWidth:"xl",children:[(0,d.jsx)(i.Z,{variant:"h4",sx:{mb:5},children:"Hi  Admin , Welcome back \ud83d\udc4b"}),(0,d.jsxs)("div",{className:"flex flex-row flex-wrap  justify-between  items-start border rounded-2xl  m-auto border-5 xl:w-4/5",children:[(0,d.jsx)("div",{className:"border-r-4 py-11 lg:w-2/4",children:(0,d.jsx)(f,{})}),(0,d.jsx)("div",{className:"flex justify-center items-center w-full lg:w-2/4 m-auto",children:(0,d.jsx)(v,{className:"mt-24"})})]})]})}function b(){return(0,d.jsxs)(d.Fragment,{children:[(0,d.jsx)(r.ql,{children:(0,d.jsx)("title",{children:" Joodah Dashboard "})}),(0,d.jsx)(x,{})]})}}}]);
//# sourceMappingURL=969.98f578d2.chunk.js.map