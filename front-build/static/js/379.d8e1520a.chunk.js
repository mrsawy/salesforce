"use strict";(self.webpackChunkquiz_app=self.webpackChunkquiz_app||[]).push([[379],{5379:(e,n,r)=>{r.r(n),r.d(n,{default:()=>A});var s=r(6907),l=r(2791),a=r(4420),o=r(9164),t=r(890),i=r(6029),d=r(7621),c=r(2363),u=r(9504),g=r(4294),v=r(7676),x=r(184);function m(e){let{level_en:n,level_ar:r,level:s,_id:o,name_en:m,name_ar:h,numberOfMinutes:w,questions:_}=e;const{questionsIsSet:b}=(0,a.v9)((e=>e.questions)),f=(0,a.I0)();return(0,x.jsx)(i.Z,{sx:{minWidth:275,textAlign:"center"},children:(0,x.jsxs)(d.Z,{variant:"outlined",children:[" ",(0,x.jsxs)(l.Fragment,{children:[(0,x.jsxs)(u.Z,{children:[(0,x.jsxs)(t.Z,{style:{direction:"rtl"},className:"cairo-ar",variant:"h5",component:"div",children:[r," -",h]}),(0,x.jsx)("br",{}),(0,x.jsxs)(t.Z,{variant:"h5",component:"div",children:[m," - ",n]}),(0,x.jsx)("br",{}),(0,x.jsxs)(t.Z,{sx:{fontSize:14},color:"text.secondary",gutterBottom:!0,children:[w," minutes"]})]}),(0,x.jsx)(c.Z,{style:{margin:"auto",textAlign:"center"},className:"flex justify-center items-center",children:(0,x.jsx)(g.Z,{onClick:()=>{document.querySelectorAll(".question-body").forEach((e=>{e.style.display="none",e.classList.add("hidden")})),f((0,v.xC)(s)),f(_&&!b?(0,v.xj)(_):(0,v.tI)(o))},size:"large",children:"View Questions"})})]})]})})}var h=r(7247),w=r(1830),_=r.n(w),b=r(3619),f=r(1286);const j=function(e){let{name:n,label:r,onChange:s,value:l,className:a,inputClassName:o,inputStyle:t}=e;return(0,x.jsxs)("div",{className:a,children:[(0,x.jsx)("label",{htmlFor:n,className:"block mb-2 text-sm font-medium text-gray-900 dark:text-white",children:r}),(0,x.jsx)("input",{type:"text",name:n,id:n,value:l,onChange:s,className:"bg-gray-50 border border-gray-300 text-gray-900 text-sm rounded-lg focus:ring-primary-600 focus:border-primary-600 block w-full p-2.5 dark:bg-gray-600 dark:border-gray-500 dark:placeholder-gray-400 dark:text-white dark:focus:ring-primary-500 dark:focus:border-primary-500 "+o,placeholder:r,required:"",style:t})]})};const p=function(e){var n,r,s,o,t,i,d,c,u,m,h,w;let{questionId:p,levelId:y,oldQuestion:k,editMode:N}=e;console.log(k);const C=(0,l.useRef)(),A=(0,l.useRef)(),[q,E]=(0,l.useState)({value_ar:k?null===k||void 0===k||null===(n=k.value)||void 0===n?void 0:n.ar:"",value_en:k?null===k||void 0===k||null===(r=k.value)||void 0===r?void 0:r.en:"",levelId:y||"",wrong_ans_1_en:null!==k&&void 0!==k&&k.wrong_answers?null===k||void 0===k||null===(s=k.wrong_answers[0])||void 0===s?void 0:s.en:"",wrong_ans_1_ar:null!==k&&void 0!==k&&k.wrong_answers?null===k||void 0===k||null===(o=k.wrong_answers[0])||void 0===o?void 0:o.ar:"",wrong_ans_2_en:null!==k&&void 0!==k&&k.wrong_answers?null===k||void 0===k||null===(t=k.wrong_answers[1])||void 0===t?void 0:t.en:"",wrong_ans_2_ar:null!==k&&void 0!==k&&k.wrong_answers?null===k||void 0===k||null===(i=k.wrong_answers[1])||void 0===i?void 0:i.ar:"",wrong_ans_3_en:null!==k&&void 0!==k&&k.wrong_answers?null===k||void 0===k||null===(d=k.wrong_answers[2])||void 0===d?void 0:d.en:"",wrong_ans_3_ar:null!==k&&void 0!==k&&k.wrong_answers?null===k||void 0===k||null===(c=k.wrong_answers[2])||void 0===c?void 0:c.ar:"",wrong_ans_4_en:null!==k&&void 0!==k&&k.wrong_answers[3]?null===k||void 0===k||null===(u=k.wrong_answers[3])||void 0===u?void 0:u.en:"",wrong_ans_4_ar:null!==k&&void 0!==k&&k.wrong_answers[3]?null===k||void 0===k||null===(m=k.wrong_answers[3])||void 0===m?void 0:m.ar:"",correct_ans_en:null!==k&&void 0!==k&&k.wrong_answers?null===k||void 0===k||null===(h=k.correct_answer)||void 0===h?void 0:h.en:"",correct_ans_ar:null!==k&&void 0!==k&&k.wrong_answers?null===k||void 0===k||null===(w=k.correct_answer)||void 0===w?void 0:w.ar:""}),I=e=>{const{name:n,value:r}=e.target;E((e=>({...e,[n]:r})))},L=(0,a.I0)(),{levels:Z,isError:S,message:W,isLoading:Q}=(0,a.v9)((e=>e.levels)),F=()=>{let e=C.current,n=A.current;e.classList.remove("hidden"),n.classList.remove("hidden"),e.classList.add("flex")},M=()=>{let e=C.current,n=A.current;e.classList.remove("flex"),e.classList.add("hidden"),n.classList.add("hidden")},B=e=>{A.current&&!A.current.contains(e.target)&&M()};return(0,l.useEffect)((()=>(document.addEventListener("mousedown",B),()=>{document.removeEventListener("mousedown",B)})),[B]),(0,x.jsxs)(x.Fragment,{children:[N?(0,x.jsx)(g.Z,{variant:"contained",startIcon:(0,x.jsx)(f.Z,{}),onClick:F,children:"Edit"}):(0,x.jsx)("button",{className:"ml-auto mr-auto mb-10  block text-white bg-blue-700 hover:bg-blue-800 focus:ring-4 focus:outline-none focus:ring-blue-300 font-medium rounded-lg text-sm px-5 py-2.5 text-center dark:bg-blue-600 dark:hover:bg-blue-700 dark:focus:ring-blue-800",type:"button",onClick:F,children:"Add New Question"}),(0,x.jsx)("div",{style:{zIndex:1102},id:"crud-modal",tabIndex:"-1","aria-hidden":"true",ref:C,className:"  hidden overflow-y-auto overflow-x-hidden fixed top-0 right-0 left-0  justify-center items-center w-full md:inset-0 h-[calc(100%-1rem)] max-h-full bg-slate-300 bg-opacity-70",children:(0,x.jsx)("div",{ref:A,className:" hidden relative p-4 w-full max-w-7xl max-h-full m-auto",children:(0,x.jsxs)("div",{className:"relative bg-white rounded-lg shadow dark:bg-gray-700",children:[(0,x.jsxs)("div",{className:"flex items-center justify-between p-4 md:p-5 border-b rounded-t dark:border-gray-600",children:[(0,x.jsx)("h3",{className:"text-lg font-semibold text-gray-900 dark:text-white",children:N?"Edit Question":"Create New Question"}),(0,x.jsxs)("button",{type:"button",className:"text-gray-400 bg-transparent hover:bg-gray-200 hover:text-gray-900 rounded-lg text-sm w-8 h-8 ms-auto inline-flex justify-center items-center dark:hover:bg-gray-600 dark:hover:text-white","data-modal-toggle":"crud-modal",onClick:M,children:[(0,x.jsx)("svg",{className:"w-3 h-3","aria-hidden":"true",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 14 14",children:(0,x.jsx)("path",{stroke:"currentColor","stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"m1 1 6 6m0 0 6 6M7 7l6-6M7 7l-6 6"})}),(0,x.jsx)("span",{className:"sr-only",children:"Close modal"})]})]}),(0,x.jsxs)("form",{className:"p-4 md:p-5",onSubmit:e=>{e.preventDefault();Object.values({...q,wrong_ans_4_en:q.wrong_ans_4_en?q.wrong_ans_4_en:"temp",wrong_ans_4_ar:q.wrong_ans_4_ar?q.wrong_ans_4_ar:"temp"}).some((e=>!e))?_().fire({icon:"error",title:"Error!",text:"All fields must be filled."}):(L(N?(0,v.WW)({...q,questionId:p}):(0,v.PG)(q)),L((0,b.kf)()))},children:[(0,x.jsxs)("div",{className:"flex flex-col gap-4 mb-4 ",children:[(0,x.jsxs)("div",{className:"flex flex-nowrap justify-center items-center gap-9 w-full",children:[(0,x.jsx)(j,{label:"English Value",name:"value_en",value:q.value_en,onChange:I,className:"w-100"}),(0,x.jsx)(j,{label:"Arabic Value",name:"value_ar",value:q.value_ar,onChange:I,className:"w-100 ",inputClassName:"rtl text-right"})]}),(0,x.jsxs)("div",{className:"flex flex-nowrap justify-center items-center gap-9 w-full",children:[(0,x.jsx)(j,{label:"First Wrong Answer English",name:"wrong_ans_1_en",value:q.wrong_ans_1_en,onChange:I,className:"w-100"}),(0,x.jsx)(j,{label:"First Wrong Answer Arabic",name:"wrong_ans_1_ar",value:q.wrong_ans_1_ar,onChange:I,className:"w-100",inputClassName:"rtl text-right"})]}),(0,x.jsxs)("div",{className:"flex flex-nowrap justify-center items-center gap-9 w-full",children:[(0,x.jsx)(j,{label:"Second Wrong Answer English",name:"wrong_ans_2_en",value:q.wrong_ans_2_en,onChange:I,className:"w-100"}),(0,x.jsx)(j,{label:"Second Wrong Answer Arabic",name:"wrong_ans_2_ar",value:q.wrong_ans_2_ar,onChange:I,className:"w-100",inputClassName:"rtl text-right"})]}),(0,x.jsxs)("div",{className:"flex flex-nowrap justify-center items-center gap-9 w-full",children:[(0,x.jsx)(j,{label:"Third Wrong Answer English",name:"wrong_ans_3_en",value:q.wrong_ans_3_en,onChange:I,className:"w-100"}),(0,x.jsx)(j,{label:"Third Wrong Answer Arabic",name:"wrong_ans_3_ar",value:q.wrong_ans_3_ar,onChange:I,className:"w-100",inputClassName:"rtl text-right"})]}),(0,x.jsxs)("div",{className:"flex flex-nowrap justify-center items-center gap-9 w-full",children:[(0,x.jsx)(j,{label:"Fourth Wrong Answer English",name:"wrong_ans_4_en",value:q.wrong_ans_4_en,onChange:I,className:"w-100"}),(0,x.jsx)(j,{label:"Fourth Wrong Answer Arabic",name:"wrong_ans_4_ar",value:q.wrong_ans_4_ar,onChange:I,className:"w-100",inputClassName:"rtl text-right"})]}),(0,x.jsxs)("div",{className:"flex flex-nowrap justify-center items-center gap-9 w-full",children:[(0,x.jsx)(j,{label:"Correct Answer English",name:"correct_ans_en",value:q.correct_ans_en,onChange:I,className:"w-100"}),(0,x.jsx)(j,{label:"Correct Answer Arabic",name:"correct_ans_ar",value:q.correct_ans_ar,onChange:I,className:"w-100",inputClassName:"rtl text-right"})]}),!N&&(0,x.jsxs)("div",{className:"col-span-2 sm:col-span-1",children:[(0,x.jsx)("label",{htmlFor:"level",className:"block mb-2 text-sm font-medium text-gray-900 dark:text-white",children:"Level"}),(0,x.jsxs)("select",{name:"levelId",value:q.levelId,onChange:I,className:"bg-gray-50 border w-100 border-gray-300 text-gray-900 text-sm rounded-lg focus:ring-primary-500 focus:border-primary-500 block w-full p-2.5 dark:bg-gray-600 dark:border-gray-500 dark:placeholder-gray-400 dark:text-white dark:focus:ring-primary-500 dark:focus:border-primary-500",children:[(0,x.jsx)("option",{selected:"",children:"Select Level"}),Z.map((e=>(0,x.jsx)("option",{value:null===e||void 0===e?void 0:e._id,children:null===e||void 0===e?void 0:e.name_en},null===e||void 0===e?void 0:e._id)))]})]})]}),(0,x.jsxs)("button",{type:"submit",className:"text-white inline-flex items-center bg-blue-700 hover:bg-blue-800 focus:ring-4 focus:outline-none focus:ring-blue-300 font-medium rounded-lg text-sm px-5 py-2.5 text-center dark:bg-blue-600 dark:hover:bg-blue-700 dark:focus:ring-blue-800",children:[(0,x.jsx)("svg",{className:"me-1 -ms-1 w-5 h-5",fill:"currentColor",viewBox:"0 0 20 20",xmlns:"http://www.w3.org/2000/svg",children:(0,x.jsx)("path",{"fill-rule":"evenodd",d:"M10 5a1 1 0 011 1v3h3a1 1 0 110 2h-3v3a1 1 0 11-2 0v-3H6a1 1 0 110-2h3V6a1 1 0 011-1z","clip-rule":"evenodd"})}),N?"Edit Question":"Add New Question"]})]})]})})})]})};function y(e){let{_id:n,correct_answer:r,wrong_answers:s,value:l,id:o,index:t}=e;const i=(0,a.I0)(),{currentQuestions:d,currentLevel:c,isLoading:u}=(0,a.v9)((e=>e.questions));return(0,x.jsxs)(x.Fragment,{children:[(0,x.jsx)("h2",{id:"accordion-color-heading-".concat(o,"-").concat(t),children:(0,x.jsxs)("button",{type:"button",class:"flex flex-wrap items-center justify-between w-full p-5 font-medium rtl:text-right text-gray-500 border border-b-0 border-gray-200 rounded-t-xl focus:ring-4 focus:ring-blue-200 dark:focus:ring-blue-800 dark:border-gray-700 dark:text-gray-400 hover:bg-blue-100 dark:hover:bg-gray-800 gap-3","data-accordion-target":"#accordion-color-body-".concat(o,"-").concat(t),"aria-expanded":"false","aria-controls":"accordion-color-body-".concat(o,"-").concat(t),onClick:()=>{const e=document.querySelector("#accordion-color-body-".concat(o,"-").concat(t));document.querySelectorAll(".question-body").forEach((e=>{e.style.display="none",e.classList.remove("hidden")}));const n=window.getComputedStyle(e).getPropertyValue("display");e.style.display="block"===n?"none":"block"},children:[(0,x.jsxs)("span",{style:{maxWidth:"97%",display:"inline-block",overflow:"hidden",textOverflow:"ellipsis",whiteSpace:"nowrap"},children:[(0,x.jsxs)("span",{className:" me-3",children:[t+1," ",")"]}),null===l||void 0===l?void 0:l.en]}),(0,x.jsxs)("div",{className:"flex flex-row items-center gap-8",children:[(0,x.jsxs)("div",{className:"flex flex-row items-center gap-5",children:[(0,x.jsx)(g.Z,{variant:"contained",startIcon:(0,x.jsx)(h.Z,{}),color:"error",onClick:()=>{_().fire({icon:"question",title:"Are you sure ?",iconHtml:"\u061f",confirmButtonText:"yes",cancelButtonText:"no",showCancelButton:!0,showCloseButton:!0}).then((e=>{e.isConfirmed&&(i((0,v.Km)({questionId:n,levelId:null===c||void 0===c?void 0:c._id})),i((0,b.kf)()))}))},children:"Delete"}),(0,x.jsx)(p,{editMode:!0,levelId:null===c||void 0===c?void 0:c._id,questionId:n,oldQuestion:{_id:n,value:l,correct_answer:r,wrong_answers:s}})]}),(0,x.jsx)("svg",{"data-accordion-icon":!0,class:"w-3 h-3 rotate-180 shrink-0","aria-hidden":"true",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 10 6",children:(0,x.jsx)("path",{stroke:"currentColor","stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M9 5 5 1 1 5"})})]})]})}),(0,x.jsx)("div",{id:"accordion-color-body-".concat(o,"-").concat(t),class:"hidden question-body","aria-labelledby":"accordion-color-heading-".concat(o,"-").concat(t),children:(0,x.jsxs)("div",{class:"p-5 border border-b-0 border-gray-200 dark:border-gray-700 dark:bg-gray-900",children:[(0,x.jsx)("h3",{className:"text-xl",children:"Question in Arabic"}),(0,x.jsx)("span",{className:"text-right rtl",children:null===l||void 0===l?void 0:l.ar}),(0,x.jsx)("br",{}),(0,x.jsx)("h3",{className:"text-xl",children:"Wrong answers (English) "}),(0,x.jsx)("ul",{children:null===s||void 0===s?void 0:s.map((e=>(0,x.jsxs)("li",{children:["- ",null===e||void 0===e?void 0:e.en]})))}),(0,x.jsx)("h3",{className:"text-xl",children:"Wrong answers (Arabic) "}),(0,x.jsx)("ul",{children:null===s||void 0===s?void 0:s.map((e=>(0,x.jsxs)("li",{children:["- ",null===e||void 0===e?void 0:e.ar]})))}),(0,x.jsx)("br",{}),(0,x.jsx)("h3",{className:"text-xl",children:"Correct answers (English) "}),"-"," ",(0,x.jsx)("span",{className:"text-lg text-green-400",children:null===r||void 0===r?void 0:r.en}),(0,x.jsx)("br",{}),(0,x.jsx)("h3",{className:"text-xl",children:"Correct answers (Arabic) "}),"-"," ",(0,x.jsx)("span",{className:"text-lg text-green-400",children:null===r||void 0===r?void 0:r.ar})]})})]})}var k=r(6264);const N=function(){const{currentQuestions:e,isError:n,message:r,isLoading:s}=(0,a.v9)((e=>e.questions));return(0,x.jsxs)("div",{id:"accordion-color","data-accordion":"collapse","data-active-classes":"bg-blue-100 dark:bg-gray-800 text-blue-600 dark:text-white",children:[s&&(0,x.jsx)(k.Z,{className:"h-50"}),!s&&Array.isArray(e)&&(null===e||void 0===e?void 0:e.map(((e,n)=>(0,l.createElement)(y,{...e,key:n,id:n,index:n}))))]})};function C(){const{levels:e,levelIsSet:n,isError:r,message:s,isLoading:i}=(0,a.v9)((e=>e.levels)),d=(0,a.I0)();return(0,l.useEffect)((()=>{d((0,b.kf)())}),[d]),(0,x.jsxs)(o.Z,{children:[(0,x.jsx)(t.Z,{variant:"h4",sx:{mb:5},children:"Here You Can Customize The Questions \ud83d\udc4b"}),i&&(0,x.jsx)(k.Z,{}),!i&&(0,x.jsxs)(x.Fragment,{children:[(0,x.jsx)(p,{}),(0,x.jsx)("div",{className:"w-full flex justify-center items-center  gap-16 mb-8 flex-wrap",children:e.map((e=>(0,x.jsx)(m,{name_en:null===e||void 0===e?void 0:e.name_en,name_ar:null===e||void 0===e?void 0:e.name_ar,level_en:null===e||void 0===e?void 0:e.level_en,level_ar:null===e||void 0===e?void 0:e.level_ar,questions:null===e||void 0===e?void 0:e.questions,numberOfMinutes:null===e||void 0===e?void 0:e.numberOfMinutes,_id:null===e||void 0===e?void 0:e._id,level:e})))}),(0,x.jsx)(N,{})]})]})}function A(){return(0,x.jsxs)(x.Fragment,{children:[(0,x.jsx)(s.ql,{children:(0,x.jsx)("title",{children:" Questions "})}),(0,x.jsx)(C,{})]})}}}]);
//# sourceMappingURL=379.d8e1520a.chunk.js.map