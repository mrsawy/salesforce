"use strict";(self.webpackChunkquiz_app=self.webpackChunkquiz_app||[]).push([[514],{1514:(e,t,n)=>{n.r(t),n.d(t,{default:()=>ne});var r=n(6907),l=n(2791),o=n(4420),i=n(7621),a=n(9836),s=n(9164),c=n(3382),d=n(9281),u=n(6812),h=n(763),m=n(4426);const p=[...Array(24)].map(((e,t)=>({id:m.We.string.uuid(),avatarUrl:"/assets/images/avatars/avatar_".concat(t+1,".jpg"),name:m.We.person.fullName(),company:m.We.company.name(),isVerified:m.We.datatype.boolean(),status:(0,h.sample)(["active","banned"]),role:(0,h.sample)(["Leader","Hr Manager","UI Designer","UX Designer","UI/UX Designer","Project Manager","Backend Developer","Full Stack Designer","Front End Developer","Full Stack Developer"])})));var x=n(4477),g=n(8586),v=n(5527),f=n(5855),j=n(3994),b=n(890),Z=n(184);function y(e){let{query:t}=e;return(0,Z.jsx)(f.Z,{children:(0,Z.jsx)(j.Z,{align:"center",colSpan:6,sx:{py:3},children:(0,Z.jsxs)(v.Z,{sx:{textAlign:"center"},children:[(0,Z.jsx)(b.Z,{variant:"h6",paragraph:!0,children:"Not found"}),(0,Z.jsxs)(b.Z,{variant:"body2",children:["No results found for \xa0",(0,Z.jsxs)("strong",{children:['"',t,'"']}),".",(0,Z.jsx)("br",{})," Try checking for typos or using complete words."]})]})})})}var k=n(5473),w=n(9891),S=n(3400),C=n(6029),N=n(4294),A=n(8184),D=n(6934),P=n(2065);(0,D.ZP)(C.Z)((e=>{let{theme:t,ownerState:n}=e;const r="light"===t.palette.mode,l="filled"===n.variant,o="outlined"===n.variant,i="soft"===n.variant,a={..."default"===n.color&&{...l&&{color:r?t.palette.common.white:t.palette.grey[800],backgroundColor:t.palette.text.primary},...o&&{backgroundColor:"transparent",color:t.palette.text.primary,border:"2px solid ".concat(t.palette.text.primary)},...i&&{color:t.palette.text.secondary,backgroundColor:(0,P.Fq)(t.palette.grey[500],.16)}}},s={..."default"!==n.color&&{...l&&{color:t.palette[n.color].contrastText,backgroundColor:t.palette[n.color].main},...o&&{backgroundColor:"transparent",color:t.palette[n.color].main,border:"2px solid ".concat(t.palette[n.color].main)},...i&&{color:t.palette[n.color][r?"dark":"light"],backgroundColor:(0,P.Fq)(t.palette[n.color].main,.16)}}};return{height:24,minWidth:24,lineHeight:0,borderRadius:6,cursor:"default",alignItems:"center",whiteSpace:"nowrap",display:"inline-flex",justifyContent:"center",textTransform:"capitalize",padding:t.spacing(0,.75),fontSize:t.typography.pxToRem(12),fontWeight:t.typography.fontWeightBold,transition:t.transitions.create("all",{duration:t.transitions.duration.shorter}),...a,...s}}));var F=n(4419);function T(e){let{selected:t,name:n,email:r,phone:i,date:a,result:s,grade:c,exam:d,id:u,handleClick:h,age:m,experience:p,education:g}=e;const v=(0,o.I0)(),[b,y]=(0,l.useState)(null),C=()=>{y(null)};return(0,Z.jsxs)(Z.Fragment,{children:[(0,Z.jsxs)(f.Z,{hover:!0,tabIndex:-1,role:"checkbox",selected:t,children:[(0,Z.jsx)(j.Z,{align:"center",children:n}),(0,Z.jsx)(j.Z,{align:"center",children:r}),(0,Z.jsx)(j.Z,{align:"center",children:i}),(0,Z.jsx)(j.Z,{align:"center",children:m}),(0,Z.jsx)(j.Z,{align:"center",children:g}),(0,Z.jsx)(j.Z,{align:"center",children:p}),(0,Z.jsx)(j.Z,{align:"center",children:(0,Z.jsx)(R,{result:s,grade:c,date:a})}),(0,Z.jsx)(j.Z,{align:"right",children:(0,Z.jsx)(S.Z,{onClick:e=>{y(e.currentTarget)},children:(0,Z.jsx)(x.Z,{icon:"eva:more-vertical-fill"})})})]}),(0,Z.jsx)(k.ZP,{open:!!b,anchorEl:b,onClose:C,anchorOrigin:{vertical:"top",horizontal:"left"},transformOrigin:{vertical:"top",horizontal:"right"},PaperProps:{sx:{width:140}},children:(0,Z.jsx)(w.Z,{onClick:C,sx:{color:"error.main"},children:(0,Z.jsx)("button",{className:"w-full flex items-center   leading-7",onClick:()=>{console.log("delete clicked",u),v((0,F.h8)(u))},children:(0,Z.jsxs)(Z.Fragment,{children:[(0,Z.jsx)(x.Z,{icon:"eva:trash-2-outline",sx:{mr:2}}),"Delete"]})})})})]})}const W={position:"absolute",top:"50%",left:"50%",transform:"translate(-50%, -50%)",width:400,bgcolor:"background.paper",border:"2px solid #000",boxShadow:24,p:4};function R(e){let{result:t,grade:n,date:r}=e;const[o,i]=(0,l.useState)(!1);return(0,Z.jsxs)("div",{children:[(0,Z.jsx)(N.Z,{variant:"outlined",onClick:()=>i(!0),children:"Result"}),(0,Z.jsx)(A.Z,{open:o,onClose:()=>i(!1),"aria-labelledby":"modal-modal-title","aria-describedby":"modal-modal-description",children:(0,Z.jsxs)(C.Z,{sx:W,children:[(0,Z.jsx)(b.Z,{id:"modal-modal-title",variant:"h6",component:"h2",children:null===t||void 0===t?void 0:t.levelName}),(0,Z.jsxs)(b.Z,{id:"modal-modal-description",sx:{mt:2},children:["Grade : ",(+n).toFixed(2)," / 100"]}),(0,Z.jsxs)(b.Z,{id:"modal-modal-description",sx:{mt:2},children:["Time taken : ",I(((null===t||void 0===t?void 0:t.timeTaken)/1e3).toFixed(0),null===t||void 0===t?void 0:t.fullTime)]}),(0,Z.jsxs)(b.Z,{id:"modal-modal-description",sx:{mt:2},children:["Date : ",r]}),(0,Z.jsx)(b.Z,{id:"modal-modal-description",className:"     text-sm   ",sx:{mt:2}})]})})]})}function I(e,t){var n=+e;let r=+t;if(("number"!==typeof n||n<0)&&"number"!==typeof r)return"Invalid input";("number"!==typeof n||n<0||isNaN(n))&&"number"==typeof r&&(n=r,console.log(n,r));const l=Math.floor(n/3600),o=Math.floor(n%3600/60),i=n%60;return"".concat(l,"h ").concat(o,"m ").concat(i,"s")}var q=n(6890),_=n(720);const L={border:0,margin:-1,padding:0,width:"1px",height:"1px",overflow:"hidden",position:"absolute",whiteSpace:"nowrap",clip:"rect(0 0 0 0)"};function U(e,t,n){return e?Math.max(0,(1+e)*t-n):0}function E(e,t,n){return null===e[n]?1:null===t[n]||t[n]<e[n]?-1:t[n]>e[n]?1:0}function M(e,t){return"asc"===e?(e,n)=>E(e,n,t):(e,n)=>-E(e,n,t)}function z(e){let{order:t,orderBy:n,rowCount:r,headLabel:l,numSelected:o,onRequestSort:i,onSelectAllClick:a}=e;return(0,Z.jsx)(q.Z,{children:(0,Z.jsx)(f.Z,{children:l.map((e=>{return(0,Z.jsx)(j.Z,{align:e.align||"center",sortDirection:n===e.id&&t,sx:{width:e.width,minWidth:e.minWidth},children:(0,Z.jsxs)(_.Z,{hideSortIcon:!0,active:n===e.id,direction:n===e.id?t:"asc",onClick:(r=e.id,e=>{i(e,r)}),children:[e.label,n===e.id?(0,Z.jsx)(C.Z,{sx:{...L},children:"desc"===t?"sorted descending":"sorted ascending"}):null]})},e.id);var r}))})})}function O(e){let{emptyRows:t,height:n}=e;return t?(0,Z.jsx)(f.Z,{sx:{...n&&{height:n*t}},children:(0,Z.jsx)(j.Z,{colSpan:9})}):null}var Q=n(5181),B=n(4663),H=n(3518),X=n(9218);function G(e,t){var n=+e;let r=+t;if(("number"!==typeof n||n<0)&&"number"!==typeof r)return"Invalid input";("number"!==typeof n||n<0||isNaN(n))&&"number"==typeof r&&(n=r,console.log(n,r));const l=Math.floor(n/3600),o=Math.floor(n%3600/60),i=n%60;return"".concat(l,"h ").concat(o,"m ").concat(i,"s")}var V=n(4045);const J=e=>{const t=V.P6.json_to_sheet(e),n=V.P6.book_new(e);V.P6.book_append_sheet(n,t,"test"),V.cW(n,{bookType:"xlsx",type:"buffer"}),V.cW(n,{bookType:"xlsx",type:"binary"}),V.NC(n,"report.xlsx")};function K(e){let{numSelected:t,filterName:n,onFilterName:r}=e;const{users:l}=(0,o.v9)((e=>e.user));return(0,Z.jsxs)(B.Z,{sx:{height:96,display:"flex",justifyContent:"space-between",p:e=>e.spacing(0,1,0,3),...t>0&&{color:"primary.main",bgcolor:"primary.lighter"}},children:[t>0?(0,Z.jsxs)(b.Z,{component:"div",variant:"subtitle1",children:[t," selected"]}):(0,Z.jsx)(X.Z,{value:n,onChange:r,placeholder:"Search user..."}),t>0?(0,Z.jsx)(Q.Z,{title:"Delete",children:(0,Z.jsx)(S.Z,{})}):(0,Z.jsx)(Q.Z,{title:"Filter list",children:(0,Z.jsx)(S.Z,{})}),(0,Z.jsx)(N.Z,{onClick:()=>{J(l.map((e=>{var t,n,r;return{name:null===e||void 0===e?void 0:e.name,email:null===e||void 0===e?void 0:e.email,phone:null===e||void 0===e?void 0:e.phone,age:null===e||void 0===e?void 0:e.age,experience:null===e||void 0===e?void 0:e.experience,education:null===e||void 0===e?void 0:e.education,date:(r=null===e||void 0===e?void 0:e.createdAt,new Date(r).toLocaleString("en-US",{year:"numeric",month:"short",day:"numeric",hour:"2-digit",minute:"2-digit",second:"2-digit",timeZone:"Asia/Riyadh"})),exam:null===e||void 0===e||null===(t=e.result)||void 0===t?void 0:t.levelName,grade:"".concat((100*+e.result.correctAnswers/e.result.totalQuestions).toFixed(2),"/100"),timeTaken:G(e.result.timeTaken,null===e||void 0===e||null===(n=e.result)||void 0===n?void 0:n.fullTime),correctAnswers:e.result.correctAnswers,totalQuestions:e.result.totalQuestions}})))},variant:"contained",startIcon:(0,Z.jsx)(H.Z,{}),children:"Download"})]})}var Y=n(6264);const $={year:"numeric",month:"long",day:"numeric",hour:"numeric",minute:"numeric",second:"numeric",timeZone:"Asia/Riyadh"},ee=e=>new Date(e).toLocaleDateString("en-US",$);function te(){let{users:e,isLoading:t}=(0,o.v9)((e=>e.user)),n=Array.isArray(e)?e.map((e=>{var t,n,r,l,o;return{...e,id:null===e||void 0===e?void 0:e._id,grade:(null===e||void 0===e||null===(t=e.result)||void 0===t?void 0:t.correctAnswers)/(null===e||void 0===e||null===(n=e.result)||void 0===n?void 0:n.totalQuestions)*100,exam:null===e||void 0===e||null===(r=e.result)||void 0===r?void 0:r.levelName,date:ee(e.createdAt),status:(null===e||void 0===e||null===(l=e.result)||void 0===l?void 0:l.correctAnswers)/(null===e||void 0===e||null===(o=e.result)||void 0===o?void 0:o.totalQuestions)>.5?"Passed":"Failed"}})):[];const[r,h]=(0,l.useState)(0),[m,x]=(0,l.useState)("asc"),[v,f]=(0,l.useState)([]),[j,b]=(0,l.useState)("name"),[k,w]=(0,l.useState)(""),[S,C]=(0,l.useState)(10),N=function(e){let{inputData:t,comparator:n,filterName:r}=e;const l=t.map(((e,t)=>[e,t]));return t=l.map((e=>e[0])),r&&(t=t.filter((e=>-1!==e.name.toLowerCase().indexOf(r.toLowerCase())))),t}({inputData:n,comparator:M(m,j),filterName:k}),A=!N.length&&!!k;return t?(0,Z.jsx)(Y.Z,{className:"h-full"}):(0,Z.jsx)(s.Z,{children:(0,Z.jsxs)(i.Z,{children:[(0,Z.jsx)(K,{numSelected:v.length,filterName:k,onFilterName:e=>{h(0),w(e.target.value)}}),(0,Z.jsx)(g.Z,{children:(0,Z.jsx)(d.Z,{sx:{overflow:"unset"},children:(0,Z.jsxs)(a.Z,{sx:{minWidth:800},children:[(0,Z.jsx)(z,{order:m,orderBy:j,rowCount:p.length,numSelected:v.length,onRequestSort:(e,t)=>{""!==t&&(x(j===t&&"asc"===m?"desc":"asc"),b(t))},onSelectAllClick:e=>{if(e.target.checked){const e=p.map((e=>e.name));f(e)}else f([])},headLabel:[{id:"name",label:"Name"},{id:"email",label:"Email"},{id:"phone",label:"Phone"},{id:"Age",label:"Age"},{id:"Education",label:"Education"},{id:"Experience",label:"Experience"},{id:"result",label:"Result"},{id:""}]}),(0,Z.jsxs)(c.Z,{children:[N.slice(r*S,r*S+S).map((e=>(0,Z.jsx)(T,{id:null===e||void 0===e?void 0:e.id,name:e.name,email:e.email,phone:e.phone,grade:e.grade,exam:e.exam,age:e.age,education:e.education,experience:e.experience,date:e.date,result:e.result,status:e.status,selected:-1!==v.indexOf(e.name),handleClick:t=>((e,t)=>{const n=v.indexOf(t);let r=[];-1===n?r=r.concat(v,t):0===n?r=r.concat(v.slice(1)):n===v.length-1?r=r.concat(v.slice(0,-1)):n>0&&(r=r.concat(v.slice(0,n),v.slice(n+1))),f(r)})(0,e.name)},e.id))),(0,Z.jsx)(O,{height:77,emptyRows:U(r,S,p.length)}),A&&(0,Z.jsx)(y,{query:k})]})]})})}),(0,Z.jsx)(u.Z,{page:r,component:"div",count:N.length,rowsPerPage:S,onPageChange:(e,t)=>{h(t)},rowsPerPageOptions:[5,10,25,50,100,200],onRowsPerPageChange:e=>{h(0),C(parseInt(e.target.value,10))}})]})})}function ne(){return(0,Z.jsxs)(Z.Fragment,{children:[(0,Z.jsx)(r.ql,{children:(0,Z.jsx)("title",{children:" Users "})}),(0,Z.jsx)(te,{})]})}}}]);
//# sourceMappingURL=514.3021c509.chunk.js.map